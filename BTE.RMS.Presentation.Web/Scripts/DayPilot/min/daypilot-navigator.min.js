/*
DayPilot Lite
Copyright (c) 2005 - 2015 Annpoint s.r.o.
http://www.daypilot.org/
Licensed under Apache Software License 2.0
Version: 176-lite
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Navigator!=='undefined'){return;};function loadDefaultCss(){if(DayPilot.Global.defaultNavigatorCss){return;};var $a=DayPilot.sheet();$a.add(".navigator_default_main","border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;");$a.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;");$a.add(".navigator_default_month","font-family: Tahoma;font-size: 11px;");$a.add(".navigator_default_day","color: black;");$a.add(".navigator_default_weekend","background-color: #f0f0f0;");$a.add(".navigator_default_dayheader","color: black;");$a.add(".navigator_default_line","border-bottom: 1px solid #A0A0A0;");$a.add(".navigator_default_dayother","color: gray;");$a.add(".navigator_default_todaybox","border: 1px solid red;");$a.add(".navigator_default_select, .navigator_default_weekend.navigator_default_select","background-color: #FFE794;");$a.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");');$a.add(".navigator_default_busy","font-weight: bold;");$a.commit();DayPilot.Global.defaultNavigatorCss=true;};DayPilotNavigator={};DayPilot.Navigator=function(id){this.v='176-lite';var $b=this;this.id=id;this.api=2;this.isNavigator=true;this.angularAutoApply=true;this.weekStarts='Auto';this.selectMode='day';this.titleHeight=20;this.dayHeaderHeight=20;this.cellWidth=20;this.cellHeight=20;this.cssOnly=true;this.selectionStart=null;this.selectionEnd=null;this.selectionDay=new DayPilot.Date().getDatePart();this.showMonths=1;this.skipMonths=1;this.command="navigate";this.year=new DayPilot.Date().getYear();this.month=new DayPilot.Date().getMonth()+1;this.locale="en-us";this.theme="navigator_default";this.timeRangeSelectedHandling="Bind";this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.nav={};this.$02=function(){this.root.dp=this;if(this.cssOnly){this.root.className=this.$03('_main');}else{this.root.className=this.$03('main');};this.root.style.width=(this.cellWidth*7)+'px';this.root.style.position="relative";var $c=document.createElement("input");$c.type='hidden';$c.name=$b.id+"_state";$c.id=$c.name;this.root.appendChild($c);this.state=$c;if(!this.startDate){this.startDate=new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year,this.month));}else{this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth();};this.calendars=[];this.selected=[];this.months=[];};this.$04=function(){return $b.api===2;};this.$05=function(){this.root.innerHTML='';};this.$03=function($d){var $e=this.theme||this.cssClassPrefix;if($e){return $e+$d;}else{return "";}};this.$06=function($f,name){var $g=this.cssOnly?this.$03("_"+name):this.$03(name);DayPilot.Util.addClass($f,$g);};this.$07=function($f,name){var $g=this.cssOnly?this.$03("_"+name):this.$03(name);DayPilot.Util.removeClass($f,$g);};this.$08=function(j,$h){var $i={};$i.cells=[];$i.days=[];$i.weeks=[];var $j=this.startDate.addMonths(j);var $k=$h.before;var $l=$h.after;var $m=$j.firstDayOfMonth();var $n=$m.firstDayOfWeek($o.weekStarts());var $p=$m.addMonths(1);var $q=DayPilot.Date.daysDiff($n.d,$p.d);var $r=6;$i.rowCount=$r;var $s=(new DayPilot.Date()).getDatePart();var $t=this.cellWidth*7;var $u=this.cellHeight*$r+this.titleHeight+this.dayHeaderHeight;$i.height=$u;var $v=document.createElement("div");$v.style.width=($t)+'px';$v.style.height=($u)+'px';$v.style.position='relative';if(this.cssOnly){$v.className=this.$03('_month');}else{$v.className=this.$03('month');};$v.style.cursor='default';$v.style.MozUserSelect='none';$v.style.KhtmlUserSelect='none';$v.style.WebkitUserSelect='none';$v.month=$i;this.root.appendChild($v);var $w=this.titleHeight+this.dayHeaderHeight;var tl=document.createElement("div");tl.style.position='absolute';tl.style.left='0px';tl.style.top='0px';tl.style.width=this.cellWidth+'px';tl.style.height=this.titleHeight+'px';tl.style.lineHeight=this.titleHeight+'px';tl.style.textAlign='left';tl.setAttribute("unselectable","on");if(this.cssOnly){tl.className=this.$03('_titleleft');}else{tl.className=this.$03('titleleft');};if($h.left){tl.style.cursor='pointer';tl.innerHTML="<span style='margin-left:2px;'>&lt;</span>";tl.onclick=this.$09;};$v.appendChild(tl);this.tl=tl;var ti=document.createElement("div");ti.style.position='absolute';ti.style.left=this.cellWidth+'px';ti.style.top='0px';ti.style.width=(this.cellWidth*5)+'px';ti.style.height=this.titleHeight+'px';ti.style.lineHeight=this.titleHeight+'px';ti.style.textAlign='center';ti.setAttribute("unselectable","on");if(this.cssOnly){ti.className=this.$03('_title');}else{ti.className=this.$03('title');};ti.innerHTML=$o.locale().monthNames[$j.getMonth()]+' '+$j.getYear();$v.appendChild(ti);this.ti=ti;var tr=document.createElement("div");tr.style.position='absolute';tr.style.left=(this.cellWidth*6)+'px';tr.style.top='0px';tr.style.width=this.cellWidth+'px';tr.style.height=this.titleHeight+'px';tr.style.lineHeight=this.titleHeight+'px';tr.style.textAlign='right';tr.setAttribute("unselectable","on");if(this.cssOnly){tr.className=this.$03('_titleright');}else{tr.className=this.$03('titleright');};if($h.right){tr.style.cursor='pointer';tr.innerHTML="<span style='margin-right:2px;'>&gt;</span>";tr.onclick=this.$0a;};$v.appendChild(tr);this.tr=tr;for(var x=0;x<7;x++){$i.cells[x]=[];var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(x*this.cellWidth)+'px';dh.style.top=this.titleHeight+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.dayHeaderHeight+'px';dh.style.lineHeight=this.dayHeaderHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.$03('_dayheader');}else{dh.className=this.$03('dayheader');};dh.innerHTML="<span style='margin-right: 2px'>"+this.$0b(x)+"</span>";$v.appendChild(dh);$i.days.push(dh);for(var y=0;y<$r;y++){var $x=$n.addDays(y*7+x);var $y=this.$0c($x)&&this.$0d()!=='none';var $z=$x.getMonth()===$j.getMonth();var $A=$x.getTime()<$j.getTime();var $B=$x.getTime()>$j.getTime();var $C;var dc=document.createElement("div");dc.day=$x;dc.x=x;dc.y=y;dc.isCurrentMonth=$z;if(this.cssOnly){dc.className=this.$03(($z?'_day':'_dayother'));}else{dc.className=this.$03(($z?'day':'dayother'));};if($x.getTime()===$s.getTime()&&$z){this.$06(dc,'today');};if($x.dayOfWeek()===0||$x.dayOfWeek()===6){this.$06(dc,'weekend');};dc.style.position='absolute';dc.style.left=(x*this.cellWidth)+'px';dc.style.top=(y*this.cellHeight+$w)+'px';dc.style.width=this.cellWidth+'px';dc.style.height=this.cellHeight+'px';dc.style.lineHeight=this.cellHeight+'px';dc.style.textAlign='right';var $D=document.createElement("div");$D.style.position='absolute';if(this.cssOnly){$D.className=($x.getTime()===$s.getTime()&&$z)?this.$03('_todaybox'):this.$03('_daybox');}else{$D.className=($x.getTime()===$s.getTime()&&$z)?this.$03('todaybox'):this.$03('daybox');};$D.style.left='0px';$D.style.top='0px';$D.style.width=(this.cellWidth-2)+'px';$D.style.height=(this.cellHeight-2)+'px';dc.appendChild($D);var $E=null;if(this.cells&&this.cells[$x.toStringSortable()]){$E=this.cells[$x.toStringSortable()];if($E.css){this.$06(dc,$E.css);}};var $F=null;if($z||($k&&$A)||($l&&$B)){$F=document.createElement("span");$F.innerHTML=$x.getDay();dc.style.cursor='pointer';dc.isClickable=true;if($y){this.$06(dc,'select');};if($E&&$E.html){$F.innerHTML=$E.html;};$F.style.marginRight='2px';dc.appendChild($F);};dc.setAttribute("unselectable","on");dc.onclick=this.$0e;dc.onmousedown=this.$0f;dc.onmousemove=this.$0g;if($y){this.selected.push(dc);};$v.appendChild(dc);$i.cells[x][y]=dc;}};var $G=document.createElement("div");$G.style.position='absolute';$G.style.left='0px';$G.style.top=($w-2)+'px';$G.style.width=(this.cellWidth*7)+'px';$G.style.height='1px';$G.style.fontSize='1px';$G.style.lineHeight='1px';if(this.cssOnly){$G.className=this.$03("_line");}else{$G.className=this.$03("line");};$v.appendChild($G);this.months.push($i);};this.$0d=function(){var $H=this.selectMode||"";return $H.toLowerCase();};this.$0h=function(){var $H=$b.$0d();switch($H){case 'day':this.selectionStart=this.selectionDay;this.selectionEnd=this.selectionStart;break;case 'week':this.selectionStart=this.selectionDay.firstDayOfWeek($o.weekStarts());this.selectionEnd=this.selectionStart.addDays(6);break;case 'month':this.selectionStart=this.selectionDay.firstDayOfMonth();this.selectionEnd=this.selectionDay.lastDayOfMonth();break;case 'none':this.selectionStart=this.selectionDay;this.selectionEnd=this.selectionStart;break;default:throw "Unknown selectMode value.";}};this.select=function($I){var $J=true;var $K=this.selectionStart;var $L=this.selectionEnd;this.selectionStart=new DayPilot.Date($I).getDatePart();this.selectionDay=this.selectionStart;var $M=false;if($J){var $N=this.startDate;if(this.selectionStart.getTime()<this.visibleStart().getTime()||this.selectionStart.getTime()>this.visibleEnd().getTime()){$N=this.selectionStart.firstDayOfMonth();};if($N.toStringSortable()!==this.startDate.toStringSortable()){$M=true;};this.startDate=$N;};this.$0h();this.$05();this.$02();this.$0i();if(!$K.equals(this.selectionStart)||!$L.equals(this.selectionEnd)){this.$0j();}};this.update=function(){this.$0k();this.$0h();this.$05();this.$02();this.$0i();};this.$0b=function(i){var x=i+$o.weekStarts();if(x>6){x-=7;};return $o.locale().dayNamesShort[x];};this.$0c=function($I){if(this.selectionStart===null||this.selectionEnd===null){return false;};if(this.selectionStart.getTime()<=$I.getTime()&&$I.getTime()<=this.selectionEnd.getTime()){return true;};return false;};this.$0f=function(ev){};this.$0g=function(ev){};this.$0e=function(ev){var $i=this.parentNode.month;var x=this.x;var y=this.y;var $x=$i.cells[x][y].day;if(!$i.cells[x][y].isClickable){return;};$b.clearSelection();$b.selectionDay=$x;var $x=$b.selectionDay;switch($b.$0d()){case 'none':$b.selectionStart=$x;$b.selectionEnd=$x;break;case 'day':var s=$i.cells[x][y];$b.$06(s,'select');$b.selected.push(s);$b.selectionStart=s.day;$b.selectionEnd=s.day;break;case 'week':for(var j=0;j<7;j++){$b.$06($i.cells[j][y],'select');$b.selected.push($i.cells[j][y]);};$b.selectionStart=$i.cells[0][y].day;$b.selectionEnd=$i.cells[6][y].day;break;case 'month':var $O=null;var end=null;for(var y=0;y<6;y++){for(var x=0;x<7;x++){var s=$i.cells[x][y];if(!s){continue;};if(s.day.getYear()===$x.getYear()&&s.day.getMonth()===$x.getMonth()){$b.$06(s,'select');$b.selected.push(s);if($O===null){$O=s.day;};end=s.day;}}};$b.selectionStart=$O;$b.selectionEnd=end;break;default:throw 'unknown selectMode';};$b.$0j();};this.$0j=function(){var $O=$b.selectionStart;var end=$b.selectionEnd.addDays(1);var $q=DayPilot.Date.daysDiff($O.d,end.d);var $x=$b.selectionDay;if($b.$04()){var $P={};$P.start=$O;$P.end=end;$P.day=$x;$P.days=$q;$P.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.$0l.apply(function(){$b.onTimeRangeSelect($P);});if($P.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'Bind':var $Q=eval($b.bound);if($Q){var $R={};$R.start=$O;$R.end=end;$R.days=$q;$R.day=$x;$Q.commandCallBack($b.command,$R);};break;case 'None':break;};if(typeof $b.onTimeRangeSelected==='function'){$b.$0l.apply(function(){$b.onTimeRangeSelected($P);});}}else{switch($b.timeRangeSelectedHandling){case 'Bind':var $Q=eval($b.bound);if($Q){var $R={};$R.start=$O;$R.end=end;$R.days=$q;$R.day=$x;$Q.commandCallBack($b.command,$R);};break;case 'JavaScript':$b.onTimeRangeSelected($O,end,$x);break;case 'None':break;}}};this.$0a=function(ev){$b.$0m($b.skipMonths);};this.$09=function(ev){$b.$0m(-$b.skipMonths);};this.$0m=function(i){this.startDate=this.startDate.addMonths(i);this.$05();this.$02();this.$0i();};this.visibleStart=function(){return $b.startDate.firstDayOfMonth().firstDayOfWeek($o.weekStarts());};this.visibleEnd=function(){return $b.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek($o.weekStarts()).addDays(42);};this.$0i=function(){for(var j=0;j<this.showMonths;j++){var $h=this.$0n(j);this.$08(j,$h);};this.root.style.height=this.$0o()+"px";};this.$0o=function(){var $S=0;for(var i=0;i<this.months.length;i++){var $i=this.months[i];$S+=$i.height;};return $S;};this.$0n=function(j){if(this.internal.showLinks){return this.internal.showLinks;};var $h={};$h.left=(j===0);$h.right=(j===0);$h.before=j===0;$h.after=j===this.showMonths-1;return $h;};this.internal={};this.$0p={};var $o=this.$0p;$o.locale=function(){return DayPilot.Locale.find($b.locale);};$o.weekStarts=function(){if($b.weekStarts==='Auto'){var $T=$o.locale();if($T){return $T.weekStarts;}else{return 0;}}else{return $b.weekStarts;}};this.clearSelection=function(){for(var j=0;j<this.selected.length;j++){this.$07(this.selected[j],'select');};this.selected=[];};this.$0l={};this.$0l.scope=null;this.$0l.notify=function(){if($b.$0l.scope){$b.$0l.scope["$apply"]();}};this.$0l.apply=function(f){if($b.angularAutoApply&&$b.$0l.scope){$b.$0l.scope["$apply"](f);}else{f();}};this.$0q=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.items==='undefined')||(!$b.items);}else{return false;}};this.$0k=function(){if(!$b.cssOnly){$b.cssOnly=true;window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported anymore.");}};this.$0r=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Navigator: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";};this.root=this.nav.top;};this.init=function(){this.$0r();this.$0k();loadDefaultCss();if(this.root.dp){return;};this.$0h();this.$02();this.$0i();this.$0s();this.initialized=true;};this.dispose=function(){var c=$b;if(!c.root){return;};c.root.removeAttribute("style");c.root.removeAttribute("class");c.root.dp=null;c.root.innerHTML=null;c.root=null;};this.$0s=function(){this.root.dispose=this.dispose;};this.Init=this.init;};if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotNavigator=function($U){var $n=null;var j=this.each(function(){if(this.daypilot){return;};var $V=new DayPilot.Navigator(this.id);this.daypilot=$V;for(var name in $U){$V[name]=$U[name];};$V.Init();if(!$n){$n=$V;}});if(this.length===1){return $n;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $W=DayPilot.am();if(!$W){return;};$W.directive("daypilotNavigator",function(){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$X){element.replaceWith(this["template"].replace("{{id}};",$X["id"]));return function link($Y,element,$X){var $b=new DayPilot.Navigator(element[0]);$b.$0l.scope=$Y;$b.init();var $Z=$X["id"];if($Z){$Y[$Z]=$b;};var $00=$Y["$watch"];$00.call($Y,$X["daypilotConfig"],function($01){for(var name in $01){$b[name]=$01[name];};$b.update();},true);};}};});})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


