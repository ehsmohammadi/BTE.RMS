/*
DayPilot Lite
Copyright (c) 2005 - 2015 Annpoint s.r.o.
http://www.daypilot.org/
Licensed under Apache Software License 2.0
Version: 176-lite
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};function loadDefaultCss(){if(DayPilot.Global.defaultMonthCss){return;};var $b=DayPilot.sheet();$b.add(".month_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, sans-serif; font-size: 12px;color: #666;");$b.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;");$b.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;");$b.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;");$b.add(".month_default_cell_header","text-align: right;padding-right: 2px;");$b.add(".month_default_header_inner",'text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;');$b.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");');$b.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;');$b.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;");$b.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;");$b.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");');$b.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;");$b.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;");$b.commit();DayPilot.Global.defaultMonthCss=true;};var DayPilotMonth={};DayPilotMonth.Month=function($c){this.v='176-lite';this.nav={};var $d=this;this.id=$c;this.isMonth=true;this.hideUntilInit=true;this.angularAutoApply=true;this.api=2;this.cssOnly=true;this.cssClassPrefix="month_default";this.theme=null;this.startDate=new DayPilot.Date();this.width='100%';this.cellHeight=100;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#F3F3F9';this.headerFontColor='#42658C';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='#CED2CE';this.eventHeight=25;this.cellHeaderHeight=16;this.afterRender=function(){};this.backColor='#ffffff';this.nonBusinessBackColor='#ffffff';this.cellHeaderBackColor='#ffffff';this.cellHeaderFontColor='#42658C';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.eventBackColor='#2951A5';this.eventBorderColor='#2951A5';this.eventFontColor='#ffffff';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.cellWidth=14.285;this.lineSpace=1;this.eventClickHandling='Enabled';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.timeRangeSelectedHandling='Enabled';this.onEventClick=null;this.onEventClicked=null;this.onEventMove=null;this.onEventMoved=null;this.onEventResize=null;this.onEventResized=null;this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.cache={};this.updateView=function($e,$f){var $e=eval("("+$e+")");if($e.CallBackRedirect){document.location.href=$e.CallBackRedirect;return;};if($e.UpdateType==="None"){$d.fireAfterRenderDetached($e.CallBackData,true);return;};$d.events.list=$e.Events;if($e.UpdateType==="Full"){$d.startDate=$e.StartDate;$d.headerBackColor=$e.HeaderBackColor?$e.HeaderBackColor:$d.headerBackColor;$d.backColor=$e.BackColor?$e.BackColor:$d.backColor;$d.nonBusinessBackColor=$e.NonBusinessBackColor?$e.NonBusinessBackColor:$d.nonBusinessBackColor;$d.timeFormat=$e.TimeFormat?$e.TimeFormat:$d.timeFormat;if(typeof $e.WeekStarts!=='undefined'){$d.weekStarts=$e.WeekStarts;};$d.hashes=$e.Hashes;};$d.$0V();$d.$0W();$d.$0X();if($e.UpdateType==="Full"){$d.$0Y();$d.$0Z();};$d.updateHeight();$d.show();$d.$10();$d.fireAfterRenderDetached($e.CallBackData,true);};this.fireAfterRenderDetached=function($g,$h){var $i=function($g,$j){return function(){if($d.afterRender){$d.afterRender($g,$j);}};};window.setTimeout($i($g,$h),0);};this.lineHeight=function(){return this.eventHeight+this.lineSpace;};this.events={};this.events.add=function(e){e.calendar=$d;if(!$d.events.list){$d.events.list=[];};$d.events.list.push(e.data);$d.update();$d.$11.notify();};this.events.update=function(e){e.commit();$d.update();$d.$11.notify();};this.events.remove=function(e){var $k=DayPilot.indexOf($d.events.list,e.data);$d.events.list.splice($k,1);$d.update();$d.$11.notify();};this.update=function(){if(!this.cells){return;};var $l=true;this.$12();$d.$0V();$d.$0W();$d.$0X();if($l){$d.$0Y();$d.$0Z();};$d.updateHeight();$d.show();$d.$10();};this.$0X=function(){var $m=this.events.list;if(!$m){return;};for(var x=0;x<$m.length;x++){var $g=$m[x];$g.start=new DayPilot.Date($g.start);$g.end=new DayPilot.Date($g.end);if($g.start.getTime()>$g.end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $n=this.rows[i];var ev=new DayPilot.Event($g,this);if($n.belongsHere(ev)){$n.events.push(ev);}}};for(var ri=0;ri<this.rows.length;ri++){var $n=this.rows[ri];$n.events.sort(this.eventComparer);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$n.events[ei];var $o=$n.getStartColumn(ev);var $p=$n.getWidth(ev);var $q=$n.putIntoLine(ev,$o,$p,ri);}}};this.$0V=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$10=function(){this.$13();};this.$13=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $n=this.rows[ri];for(var li=0;li<$n.lines.length;li++){var $q=$n.lines[li];for(var pi=0;pi<$q.length;pi++){this.$14($q[pi]);}}}};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $r=a.start().getTime()-b.start().getTime();if($r!==0){return $r;};var $s=b.end().getTime()-a.end().getTime();return $s;};this.drawShadow=function(x,y,$q,$t,$u,e){if(!$u){$u=0;};var $v=$t;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$t;var $w=y*7+x-$u;if($w<0){$v+=$w;x=0;y=0;};var $x=$u;while($x>=7){y--;$x-=7;};if($x>x){var $y=7-this.getColCount();if($x>(x+$y)){y--;x=x+7-$x;}else{$v=$v-$x+x;x=0;}}else{x-=$x;};if(y<0){y=0;x=0;};var $z=null;if(DayPilotMonth.resizingEvent){$z='w-resize';}else if(DayPilotMonth.movingEvent){$z="move";};this.nav.top.style.cursor=$z;while($v>0&&y<this.rows.length){var $A=Math.min(this.getColCount()-x,$v);var $n=this.rows[y];var top=this.getRowTop(y);var $B=$n.getHeight();var $C=document.createElement("div");$C.setAttribute("unselectable","on");$C.style.position='absolute';$C.style.left=(this.getCellWidth()*x)+'%';$C.style.width=(this.getCellWidth()*$A)+'%';$C.style.top=(top)+'px';$C.style.height=($B)+'px';$C.style.cursor=$z;var $D=document.createElement("div");$D.setAttribute("unselectable","on");$C.appendChild($D);$D.style.position="absolute";$D.style.top="0px";$D.style.right="0px";$D.style.left="0px";$D.style.bottom="0px";$D.style.backgroundColor="#aaaaaa";$D.style.opacity=0.5;$D.style.filter="alpha(opacity=50)";this.nav.top.appendChild($C);this.shadow.list.push($C);$v-=($A+7-this.getColCount());x=0;y++;}};this.clearShadow=function(){if(this.shadow){for(var i=0;i<this.shadow.list.length;i++){this.nav.top.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.getEventTop=function($n,$q){var top=this.headerHeight;for(var i=0;i<$n;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$q*this.lineHeight();return top;};this.getDateFromCell=function(x,y){return DayPilot.Date.addDays(this.firstDate,y*7+x);};this.$14=function(e){var $n=e.part.row;var $q=e.part.line;var $o=e.part.colStart;var $p=e.part.colWidth;var $E=this.getCellWidth()*($o);var $t=this.getCellWidth()*($p);var top=this.getEventTop($n,$q);var $F=document.createElement("div");$F.setAttribute("unselectable","on");$F.style.height=this.eventHeight+'px';$F.className=this.$15("_event");if(e.data.cssClass){DayPilot.Util.addClass($F,e.data.cssClass);};$F.event=e;$F.style.width=$t+'%';$F.style.position='absolute';$F.style.left=$E+'%';$F.style.top=top+'px';if(this.showToolTip&&e.client.toolTip()){$F.title=e.client.toolTip();};$F.onclick=$d.eventClickDispatch;$F.onmousedown=function(ev){ev=ev||window.event;var $G=ev.which||ev.button;ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($G===1){DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $H={};$H.start={};$H.start.x=$o;$H.start.y=$n;$H.event=$F.event;$H.width=DayPilot.Date.daysSpan($H.event.start().d,$H.event.end().d)+1;$H.direction=this.style.cursor;DayPilotMonth.resizingEvent=$H;}else if(this.style.cursor==='move'||$d.eventMoveHandling!=='Disabled'){$d.clearShadow();var $I=DayPilot.mo2($d.nav.top,ev);if(!$I){return;};var $J=$d.getCellBelowPoint($I.x,$I.y);var $w=DayPilot.Date.daysDiff(e.start(),$d.rows[$n].start);var $u=($J.y*7+$J.x)-($n*7+$o);if($w){$u+=$w;};var $K={};$K.start={};$K.start.x=$o;$K.start.y=$n;$K.start.line=$q;$K.offset=$d.eventMoveToPosition?0:$u;$K.colWidth=$p;$K.event=$F.event;$K.coords=$I;DayPilotMonth.movingEvent=$K;}}};$F.onmousemove=function(ev){if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $u=DayPilot.mo3($F,ev);if(!$u){return;};var $L=6;if($u.x<=$L&&$d.eventResizeHandling!=='Disabled'){if(e.part.startsHere){$F.style.cursor="w-resize";$F.dpBorder='left';}else{$F.style.cursor='not-allowed';}}else if($F.clientWidth-$u.x<=$L&&$d.eventResizeHandling!=='Disabled'){if(e.part.endsHere){$F.style.cursor="e-resize";$F.dpBorder='right';}else{$F.style.cursor='not-allowed';}}else{$F.style.cursor='default';}};$F.onmouseout=function(ev){$F.style.cursor='';};var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=this.$15("_event_inner");if(e.data.backColor){$M.style.background=e.data.backColor;if(DayPilot.browser.ie9||DayPilot.browser.ielt9){$M.style.filter='';}};$M.innerHTML=e.client.html();$F.appendChild($M);this.elements.events.push($F);this.nav.events.appendChild($F);};this.lastVisibleDayOfMonth=function(){return this.startDate.lastDayOfMonth();};this.$0W=function(){if(typeof this.startDate==='string'){this.startDate=DayPilot.Date.fromStringSortable(this.startDate);};this.startDate=this.startDate.firstDayOfMonth();this.firstDate=this.startDate.firstDayOfWeek(this.getWeekStart());var $N=this.startDate;var $O;var $P=this.lastVisibleDayOfMonth().d;var $Q=DayPilot.Date.daysDiff(this.firstDate,$P)+1;$O=Math.ceil($Q/7);this.days=$O*7;this.rows=[];for(var x=0;x<$O;x++){var r={};r.start=DayPilot.Date.addDays(this.firstDate,x*7);r.end=DayPilot.Date.addDays(r.start,this.getColCount());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.end().getTime()===ev.start().getTime()&&ev.start().getTime()===this.start.getTime()){return true;};return !(ev.end().getTime()<=this.start.getTime()||ev.start().getTime()>=this.end.getTime());};r.getPartStart=function(ev){return DayPilot.Date.max(this.start,ev.start());};r.getPartEnd=function(ev){return DayPilot.Date.min(this.end,ev.end());};r.getStartColumn=function(ev){var $R=this.getPartStart(ev);return DayPilot.Date.daysDiff(this.start,$R);};r.getWidth=function(ev){return DayPilot.Date.daysSpan(this.getPartStart(ev),this.getPartEnd(ev))+1;};r.putIntoLine=function(ev,$o,$p,$n){var $S=this;for(var i=0;i<this.lines.length;i++){var $q=this.lines[i];if($q.isFree($o,$p)){$q.addEvent(ev,$o,$p,$n,i);return i;}};var $q=[];$q.isFree=function($o,$p){var $T=true;for(var i=0;i<this.length;i++){if(!($o+$p-1<this[i].part.colStart||$o>this[i].part.colStart+this[i].part.colWidth-1)){$T=false;}};return $T;};$q.addEvent=function(ep,$o,$p,$n,$k){ep.part.colStart=$o;ep.part.colWidth=$p;ep.part.row=$n;ep.part.line=$k;ep.part.startsHere=$S.start.getTime()<=ep.start().getTime();ep.part.endsHere=$S.end.getTime()>=ep.end().getTime();this.push(ep);};$q.addEvent(ev,$o,$p,$n,this.lines.length);this.lines.push($q);return this.lines.length-1;};r.getStart=function(){var $U=0;for(var i=0;i<$d.rows.length&&i<this.index;i++){$U+=$d.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$d.lineHeight()+$d.cellHeaderHeight,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=DayPilot.Date.addDays(this.firstDate,$O*7);};this.getHeight=function(){var $B=this.headerHeight;for(var i=0;i<this.rows.length;i++){$B+=this.rows[i].getHeight();};return $B;};this.getWidth=function($U,end){var $V=(end.y*7+end.x)-($U.y*7+$U.x);return $V+1;};this.getMinCoords=function($W,$X){if(($W.y*7+$W.x)<($X.y*7+$X.x)){return $W;}else{return $X;}};this.$15=function($Y){var $Z=this.theme||this.cssClassPrefix;if($Z){return $Z+$Y;}else{return "";}};this.drawTop=function(){var $00=this.nav.top;$00.setAttribute("unselectable","on");$00.style.MozUserSelect='none';$00.style.KhtmlUserSelect='none';$00.style.WebkitUserSelect='none';$00.style.position='relative';if(this.width){$00.style.width=this.width;};$00.style.height=this.getHeight()+'px';$00.onselectstart=function(e){return false;};if(this.hideUntilInit){$00.style.visibility='hidden';};if(this.cssOnly){$00.className=this.$15("_main");}else{$00.style.border="1px solid "+this.borderColor;};var $01=document.createElement("div");this.nav.cells=$01;$01.style.position="absolute";$01.style.left="0px";$01.style.right="0px";$01.setAttribute("unselectable","on");$00.appendChild($01);var $m=document.createElement("div");this.nav.events=$m;$m.style.position="absolute";$m.style.left="0px";$m.style.right="0px";$m.setAttribute("unselectable","on");$00.appendChild($m);$00.onmousemove=function(ev){if(DayPilotMonth.resizingEvent){var $I=DayPilot.mo2($d.nav.top,ev);if(!$I){return;};var $J=$d.getCellBelowPoint($I.x,$I.y);$d.clearShadow();var $H=DayPilotMonth.resizingEvent;var $02=$H.start;var $t,$U;if($H.direction==='w-resize'){$U=$J;var $03=$H.event.end().d;if(DayPilot.Date.getDate($03).getTime()===$03.getTime()){$03=DayPilot.Date.addDays($03,-1);};var end=$d.getCellFromDate($03);$t=$d.getWidth($J,end);}else{$U=$d.getCellFromDate($H.event.start().d);$t=$d.getWidth($U,$J);};if($t<1){$t=1;};$d.drawShadow($U.x,$U.y,0,$t);}else if(DayPilotMonth.movingEvent){var $I=DayPilot.mo2($d.nav.top,ev);if(!$I){return;};if($I.x===DayPilotMonth.movingEvent.coords.x&&$I.y===DayPilotMonth.movingEvent.coords.y){return;};var $J=$d.getCellBelowPoint($I.x,$I.y);$d.clearShadow();var event=DayPilotMonth.movingEvent.event;var $u=DayPilotMonth.movingEvent.offset;var $t=$d.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($t<1){$t=1;};$d.drawShadow($J.x,$J.y,0,$t,$u,event);}else if(DayPilotMonth.timeRangeSelecting){var $I=DayPilot.mo2($d.nav.top,ev);if(!$I){return;};var $J=$d.getCellBelowPoint($I.x,$I.y);$d.clearShadow();var $U=DayPilotMonth.timeRangeSelecting;var $04=$U.y*7+$U.x;var $05=$J.y*7+$J.x;var $t=Math.abs($05-$04)+1;if($t<1){$t=1;};var $06=$04<$05?$U:$J;DayPilotMonth.timeRangeSelecting.from={x:$06.x,y:$06.y};DayPilotMonth.timeRangeSelecting.width=$t;DayPilotMonth.timeRangeSelecting.moved=true;$d.drawShadow($06.x,$06.y,0,$t,0,null);}};};this.updateHeight=function(){this.nav.top.style.height=this.getHeight()+'px';for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.getRowTop(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}}};this.getCellBelowPoint=function(x,y){var $07=Math.floor(this.nav.top.clientWidth/this.getColCount());var $08=Math.min(Math.floor(x/$07),this.getColCount()-1);var $n=null;var $B=this.headerHeight;var $09=0;for(var i=0;i<this.rows.length;i++){var $0a=$B;$B+=this.rows[i].getHeight();if(y<$B){$09=y-$0a;$n=i;break;}};if($n===null){$n=this.rows.length-1;};var $J={};$J.x=$08;$J.y=$n;$J.relativeY=$09;return $J;};this.getCellFromDate=function($0b){var $t=DayPilot.Date.daysDiff(this.firstDate,$0b);var $J={x:0,y:0};while($t>=7){$J.y++;$t-=7;};$J.x=$t;return $J;};this.$0Z=function(){var $0c=document.createElement("div");$0c.oncontextmenu=function(){return false;};this.nav.cells.appendChild($0c);this.cells=[];for(var x=0;x<this.getColCount();x++){this.cells[x]=[];var $0d=null;var $0e=document.createElement("div");$0e.setAttribute("unselectable","on");$0e.style.position='absolute';$0e.style.left=(this.getCellWidth()*x)+'%';$0e.style.width=(this.getCellWidth())+'%';$0e.style.top='0px';$0e.style.height=(this.headerHeight)+'px';var $0f=x+this.getWeekStart();if($0f>6){$0f-=7;};if(this.cssOnly){$0e.className=this.$15("_header");};var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.innerHTML=$0g.locale().dayNames[$0f];$0e.appendChild($M);$M.style.position="absolute";$M.style.top="0px";$M.style.bottom="0px";$M.style.left="0px";$M.style.right="0px";if(this.cssOnly){$M.className=this.$15("_header_inner");}else{$M.style.backgroundColor=this.headerBackColor;$M.style.fontFamily=this.headerFontFamily;$M.style.fontSize=this.headerFontSize;$M.style.color=this.headerFontColor;$M.style.textAlign='center';$M.style.cursor='default';if(x!==this.getColCount()-1){$M.style.borderRight='1px solid '+this.borderColor;}};$M.innerHTML=$0g.locale().dayNames[$0f];$0c.appendChild($0e);for(var y=0;y<this.rows.length;y++){this.drawCell(x,y,$0c);}}};this.$0Y=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.cells.innerHTML='';};this.$16=function(){return $d.api===2;};this.drawCell=function(x,y,$0c){var $n=this.rows[y];var d=DayPilot.Date.addDays(this.firstDate,y*7+x);var $0h=this.cellProperties?this.cellProperties[y*this.getColCount()+x]:null;var $J=document.createElement("div");$J.setAttribute("unselectable","on");$J.style.position='absolute';$J.style.cursor='default';$J.style.left=(this.getCellWidth()*x)+'%';$J.style.width=(this.getCellWidth())+'%';$J.style.top=(this.getRowTop(y))+'px';$J.style.height=($n.getHeight())+'px';if(this.cssOnly){$J.className=this.$15("_cell");if(!this.isWeekend(d)){var $0i=this.$15("_cell_business");DayPilot.Util.addClass($J,$0i);}};var $0j=this.startDate.addMonths(-1).getMonth();var $0k=this.startDate.addMonths(1).getMonth();var $0l=this.startDate.getMonth();var $M=document.createElement("div");$M.setAttribute("unselectable","on");$J.appendChild($M);$M.style.position="absolute";$M.style.left="0px";$M.style.right="0px";$M.style.top="0px";$M.style.bottom="0px";if(this.cssOnly){$M.className=this.$15("_cell_inner");}else{$M.style.backgroundColor=this.getCellBackColor(d);if(x!==this.getColCount()-1){$M.style.borderRight='1px solid '+this.innerBorderColor;};if(y===0){$M.style.borderTop='1px solid '+this.borderColor;};$M.style.borderBottom='1px solid '+this.innerBorderColor;};$J.onmousedown=function(e){if($d.timeRangeSelectedHandling!=='Disabled'){$d.clearShadow();DayPilotMonth.timeRangeSelecting={"root":$d,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};$J.onclick=function(){var $0m=function(d){var $U=new DayPilot.Date(d);var end=$U.addDays(1);$d.timeRangeSelectedDispatch($U,end);};if($d.timeRangeSelectedHandling!=='Disabled'){$0m(d);return;}};var $0n=document.createElement("div");$0n.setAttribute("unselectable","on");$0n.style.height=this.cellHeaderHeight+"px";if(this.cssOnly){$0n.className=this.$15("_cell_header");}else{if(this.cellHeaderBackColor){$0n.style.backgroundColor=this.cellHeaderBackColor;};$0n.style.paddingRight='2px';$0n.style.textAlign="right";$0n.style.fontFamily=this.cellHeaderFontFamily;$0n.style.fontSize=this.cellHeaderFontSize;$0n.style.color=this.cellHeaderFontColor;};var $0b=d.getUTCDate();if($0b===1){$0n.innerHTML=$0g.locale().monthNames[d.getUTCMonth()]+' '+$0b;}else{$0n.innerHTML=$0b;};$M.appendChild($0n);this.cells[x][y]=$J;$0c.appendChild($J);};this.getWeekStart=function(){return $0g.locale().weekStarts;};this.getColCount=function(){return 7;};this.getCellWidth=function(){return 14.285;};this.getCellBackColor=function(d){if(d.getUTCDay()===6||d.getUTCDay()===0){return this.nonBusinessBackColor;};return this.backColor;};this.getRowTop=function($k){var top=this.headerHeight;for(var i=0;i<$k;i++){top+=this.rows[i].getHeight();};return top;};this.callBack2=function($0o,$g,$0p){var $0q={};$0q.action=$0o;$0q.parameters=$0p;$0q.data=$g;$0q.header=this.getCallBackHeader();var $0r="JSON"+DayPilot.JSON.stringify($0q);if(this.backendUrl){DayPilot.request(this.backendUrl,this.callBackResponse,$0r,this.ajaxError);}};this.callBackResponse=function($0s){$d.updateView($0s.responseText);};this.getCallBackHeader=function(){var h={};h.control="dpm";h.id=this.id;h.v=this.v;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.startDate=$d.startDate;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;return h;};this.eventClickCallBack=function(e,$g){this.callBack2('EventClick',$g,e);};this.eventClickDispatch=function(e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var $F=this;var e=e||window.event;var $0t=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};$d.eventClickSingle($F,$0t);};this.eventClickSingle=function($F){var e=$F.event;if(!e.client.clickEnabled()){return;};if($d.$16()){var $0u={};$0u.e=e;$0u.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventClick==='function'){$d.$11.apply(function(){$d.onEventClick($0u);});if($0u.preventDefault.value){return;}};switch($d.eventClickHandling){case 'CallBack':$d.eventClickCallBack(e);break;};if(typeof $d.onEventClicked==='function'){$d.$11.apply(function(){$d.onEventClicked($0u);});}}else{switch($d.eventClickHandling){case 'CallBack':$d.eventClickCallBack(e);break;case 'JavaScript':$d.onEventClick(e);break;}}};this.eventMoveCallBack=function(e,$0v,$0w,$g,$0x){if(!$0v)throw 'newStart is null';if(!$0w)throw 'newEnd is null';var $0y={};$0y.e=e;$0y.newStart=$0v;$0y.newEnd=$0w;$0y.position=$0x;this.callBack2('EventMove',$g,$0y);};this.eventMoveDispatch=function(e,x,y,$u,ev,$0x){var $0z=DayPilot.Date.getTime(e.start().d);var $03=DayPilot.Date.getDate(e.end().d);if($03.getTime()!==e.end().d.getTime()){$03=DayPilot.Date.addDays($03,1);};var $0A=DayPilot.Date.diff(e.end().d,$03);var $0B=this.getDateFromCell(x,y);$0B=DayPilot.Date.addDays($0B,-$u);var $t=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1;var $0C=DayPilot.Date.addDays($0B,$t);var $0v=new DayPilot.Date(DayPilot.Date.addTime($0B,$0z));var $0w=new DayPilot.Date(DayPilot.Date.addTime($0C,$0A));if($d.$16()){var $0u={};$0u.e=e;$0u.newStart=$0v;$0u.newEnd=$0w;$0u.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventMove==='function'){$d.$11.apply(function(){$d.onEventMove($0u);});if($0u.preventDefault.value){return;}};switch($d.eventMoveHandling){case 'CallBack':$d.eventMoveCallBack(e,$0v,$0w);break;case 'Update':e.start($0v);e.end($0w);$d.events.update(e);break;};if(typeof $d.onEventMoved==='function'){$d.$11.apply(function(){$d.onEventMoved($0u);});}}else{switch($d.eventMoveHandling){case 'CallBack':$d.eventMoveCallBack(e,$0v,$0w);break;case 'JavaScript':$d.onEventMove(e,$0v,$0w);break;}}};this.eventResizeCallBack=function(e,$0v,$0w,$g){if(!$0v)throw 'newStart is null';if(!$0w)throw 'newEnd is null';var $0y={};$0y.e=e;$0y.newStart=$0v;$0y.newEnd=$0w;this.callBack2('EventResize',$g,$0y);};this.eventResizeDispatch=function(e,$U,$t){var $0z=DayPilot.Date.getTime(e.start().d);var $03=DayPilot.Date.getDate(e.end().d);if(!DayPilot.Date.equals($03,e.end().d)){$03=DayPilot.Date.addDays($03,1);};var $0A=DayPilot.Date.diff(e.end().d,$03);var $0B=this.getDateFromCell($U.x,$U.y);var $0C=DayPilot.Date.addDays($0B,$t);var $0v=new DayPilot.Date(DayPilot.Date.addTime($0B,$0z));var $0w=new DayPilot.Date(DayPilot.Date.addTime($0C,$0A));if($d.$16()){var $0u={};$0u.e=e;$0u.newStart=$0v;$0u.newEnd=$0w;$0u.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventResize==='function'){$d.$11.apply(function(){$d.onEventResize($0u);});if($0u.preventDefault.value){return;}};switch($d.eventResizeHandling){case 'CallBack':$d.eventResizeCallBack(e,$0v,$0w);break;case 'Update':e.start($0v);e.end($0w);$d.events.update(e);break;};if(typeof $d.onEventResized==='function'){$d.$11.apply(function(){$d.onEventResized($0u);});}}else{switch($d.eventResizeHandling){case 'CallBack':$d.eventResizeCallBack(e,$0v,$0w);break;case 'JavaScript':$d.onEventResize(e,$0v,$0w);break;}}};this.timeRangeSelectedCallBack=function($U,end,$g){var $0D={};$0D.start=$U;$0D.end=end;this.callBack2('TimeRangeSelected',$g,$0D);};this.timeRangeSelectedDispatch=function($U,end){if(this.$16()){var $0u={};$0u.start=$U;$0u.end=end;$0u.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onTimeRangeSelect==='function'){$d.$11.apply(function(){$d.onTimeRangeSelect($0u);});if($0u.preventDefault.value){return;}};switch($d.timeRangeSelectedHandling){case 'CallBack':$d.timeRangeSelectedCallBack($U,end);break;};if(typeof $d.onTimeRangeSelected==='function'){$d.$11.apply(function(){$d.onTimeRangeSelected($0u);});}}else{switch($d.timeRangeSelectedHandling){case 'CallBack':$d.timeRangeSelectedCallBack($U,end);break;case 'JavaScript':$d.onTimeRangeSelected($U,end);break;}}};this.$11={};this.$11.scope=null;this.$11.notify=function(){if($d.$11.scope){$d.$11.scope["$apply"]();}};this.$11.apply=function(f){if($d.angularAutoApply&&$d.$11.scope){$d.$11.scope["$apply"](f);}else{f();}};this.clearSelection=function(){$d.clearShadow();};this.commandCallBack=function($0E,$g){var $0y={};$0y.command=$0E;this.callBack2('Command',$g,$0y);};this.isWeekend=function($0b){$0b=new DayPilot.Date($0b);var $0F=0;var $0G=6;if($0b.dayOfWeek()===$0F){return true;};if($0b.dayOfWeek()===$0G){return true;};return false;};this.$17={};this.$17.locale=function(){var $0H=DayPilot.Locale.find($d.locale);if(!$0H){return DayPilot.Locale.US;};return $0H;};var $0g=this.$17;this.debug=function($0I,$0J){if(!this.debuggingEnabled){return;};if(!$d.debugMessages){$d.debugMessages=[];};$d.debugMessages.push($0I);if(typeof console!=='undefined'){console.log($0I);}};this.registerGlobalHandlers=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);}};this.loadFromServer=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $d.events.list==='undefined')||(!$d.events.list);}else{return false;}};this.show=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$18=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Month: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";}};this.$12=function(){if(!$d.cssOnly){$d.cssOnly=true;window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported anymore.");}};this.$19=function(){this.$0W();this.drawTop();this.$0Z();this.registerGlobalHandlers();this.callBack2('Init');};this.init=function(){this.$18();var $0K=this.loadFromServer();this.$12();loadDefaultCss();if($0K){this.$19();return;};this.$0W();this.$0X();this.drawTop();this.$0Z();this.show();this.$10();this.registerGlobalHandlers();if(this.messageHTML){this.message(this.messageHTML);};this.fireAfterRenderDetached(null,false);};this.Init=this.init;};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $0L=DayPilotMonth.movingEvent;if(!$0L.event){return;};if(!$0L.event.calendar){return;};if(!$0L.event.calendar.shadow){return;};if(!$0L.event.calendar.shadow.start){return;};var $d=DayPilotMonth.movingEvent.event.calendar;var e=DayPilotMonth.movingEvent.event;var $U=$d.shadow.start;var $0x=$d.shadow.position;var $u=DayPilotMonth.movingEvent.offset;$d.clearShadow();DayPilotMonth.movingEvent=null;var ev=ev||window.event;$d.eventMoveDispatch(e,$U.x,$U.y,$u,ev,$0x);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};DayPilotMonth.movingEvent=null;return false;}else if(DayPilotMonth.resizingEvent){var $0L=DayPilotMonth.resizingEvent;if(!$0L.event){return;};if(!$0L.event.calendar){return;};if(!$0L.event.calendar.shadow){return;};if(!$0L.event.calendar.shadow.start){return;};var $d=DayPilotMonth.resizingEvent.event.calendar;var e=DayPilotMonth.resizingEvent.event;var $U=$d.shadow.start;var $t=$d.shadow.width;$d.clearShadow();DayPilotMonth.resizingEvent=null;$d.eventResizeDispatch(e,$U,$t);ev.cancelBubble=true;DayPilotMonth.resizingEvent=null;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $0M=DayPilotMonth.timeRangeSelecting;var $d=$0M.root;var $U=new DayPilot.Date($d.getDateFromCell($0M.from.x,$0M.from.y));var end=$U.addDays($0M.width);$d.timeRangeSelectedDispatch($U,end);$d.clearShadow();};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($0N){var $W=null;var j=this.each(function(){if(this.daypilot){return;};var $0O=new DayPilot.Month(this.id);this.daypilot=$0O;for(name in $0N){$0O[name]=$0N[name];};$0O.Init();if(!$W){$W=$0O;}});if(this.length===1){return $W;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $0P=DayPilot.am();if(!$0P){return;};$0P.directive("daypilotMonth",function(){return{"restrict":"E","template":"<div></div>","replace":true,"link":function($0Q,element,$0R){var $d=new DayPilot.Month(element[0]);$d.$11.scope=$0Q;$d.init();var $0S=$0R["id"];if($0S){$0Q[$0S]=$d;};var $0T=$0Q["$watch"];$0T.call($0Q,$0R["daypilotConfig"],function($0U){for(var name in $0U){$d[name]=$0U[name];};$d.update();},true);$0T.call($0Q,$0R["daypilotEvents"],function($0U){$d.events.list=$0U;$d.update();},true);}};});})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

